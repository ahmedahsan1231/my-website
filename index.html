لعبة سوبر ماريو - مثال بسيط :root{--bg:#87CEEB;--ground:#654321;--player:#e63946;--platform:#2a9d8f} html,body{height:100%;margin:0;font-family:system-ui, sans-serif;background:var(--bg);direction:rtl} #gameWrap{position:relative;width:100%;height:100vh;overflow:hidden;touch-action:none} canvas{display:block;background:linear-gradient(#87CEEB 0%, #bde0fe 70%);width:100%;height:100%} /* on-screen controls */ .controls{position:absolute;left:0;right:0;bottom:12px;pointer-events:none} .leftJoystick{position:absolute;left:12px;bottom:12px;width:140px;height:140px;pointer-events:auto} .joyBase{width:100%;height:100%;border-radius:50%;background:rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center} .joyKnob{width:56px;height:56px;border-radius:50%;background:rgba(0,0,0,0.3);transform:translate(0,0);touch-action:none} .buttons{position:absolute;right:12px;bottom:24px;width:140px;height:100px;pointer-events:auto;display:flex;flex-direction:column;gap:12px;align-items:center} .btn{width:100px;height:48px;border-radius:12px;background:rgba(0,0,0,0.22);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;user-select:none;touch-action:none} .btn:active{transform:scale(0.98)} /* HUD */ .hud{position:absolute;top:12px;left:12px;right:12px;display:flex;justify-content:space-between;color:#073b4c;font-weight:700} .hint{position:absolute;top:50%;left:8px;background:rgba(255,255,255,0.7);padding:6px 10px;border-radius:8px;color:#03045e} @media(min-width:800px){ /* hide joystick on big screens and show keyboard hint */ .leftJoystick{display:none} .buttons{display:none} .hint{display:block} } 

<div class="controls"> <div class="leftJoystick" id="joystick" aria-hidden="true"> <div class="joyBase"> <div class="joyKnob" id="knob"></div> </div> </div> <div class="buttons" id="buttons"> <div class="btn" id="jumpBtn">قفز</div> <div class="btn" id="runBtn">ركض</div> </div> </div> <div class="hud"> <div id="score">النتيجة: 0</div> <div id="lives">حياة: 3</div> </div> <div class="hint">لوحة المفاتيح: ← → / A D للتحرك، مسافة للقفز</div> 

// لعبة منصة بسيطة بلغة JavaScript + Canvas // تحكم: لوحة مفاتيح للكمبيوتر + عصا افتراضية للهاتف + أزرار قفز/ركض const canvas = document.getElementById('game'); const ctx = canvas.getContext('2d'); let W = canvas.width = innerWidth * devicePixelRatio; let H = canvas.height = innerHeight * devicePixelRatio; canvas.style.width = innerWidth + 'px'; canvas.style.height = innerHeight + 'px'; ctx.scale(devicePixelRatio, devicePixelRatio); // عالم بسيط const GRAV = 1600; // px/s^2 const FRICTION = 0.85; let last = performance.now(); let keys = {left:false,right:false,jump:false,run:false}; let score = 0, lives = 3; // اللاعب const player = { x:80, y:0, w:34, h:48, vx:0, vy:0, onGround:false, facing:1 }; // مستوى: مصفوفة منصات const platforms = [ {x:0,y:innerHeight-40,w:innerWidth*2,h:40}, {x:220,y:innerHeight-140,w:160,h:20}, {x:460,y:innerHeight-230,w:160,h:20}, {x:760,y:innerHeight-300,w:240,h:20}, {x:1120,y:innerHeight-200,w:200,h:20}, {x:1400,y:innerHeight-120,w:160,h:20}, {x:1700,y:innerHeight-220,w:240,h:20}, {x:2100,y:innerHeight-100,w:400,h:20}, ]; // عملة / هدف const coins = [ {x:300,y:innerHeight-180,w:14,h:20,collected:false}, {x:540,y:innerHeight-270,w:14,h:20,collected:false}, {x:820,y:innerHeight-350,w:14,h:20,collected:false}, {x:1250,y:innerHeight-240,w:14,h:20,collected:false}, {x:1750,y:innerHeight-260,w:14,h:20,collected:false} ]; // كاميرا const cam = {x:0,y:0}; // تحريك العصا الافتراضية const joystick = document.getElementById('joystick'); const knob = document.getElementById('knob'); const jumpBtn = document.getElementById('jumpBtn'); const runBtn = document.getElementById('runBtn'); let joyActive=false, joyStart={x:0,y:0}, joyVal={x:0,y:0}; const maxRadius = 50; function getCanvasRect(){ return canvas.getBoundingClientRect(); } joystick.addEventListener('pointerdown', e=>{ e.preventDefault(); joystick.setPointerCapture(e.pointerId); joyActive=true; const r = joystick.getBoundingClientRect(); joyStart = {x: e.clientX - (r.left + r.width/2), y: e.clientY - (r.top + r.height/2)}; }); joystick.addEventListener('pointermove', e=>{ if(!joyActive) return; const r = joystick.getBoundingClientRect(); const dx = e.clientX - (r.left + r.width/2); const dy = e.clientY - (r.top + r.height/2); // clamp const dist = Math.hypot(dx,dy); const ratio = Math.min(1,dist/maxRadius); const nx = dx/dist || 0; const ny = dy/dist || 0; const knobX = nx * ratio * maxRadius; const knobY = ny * ratio * maxRadius; knob.style.transform = `translate(${knobX}px, ${knobY}px)`; joyVal.x = knobX / maxRadius; joyVal.y = knobY / maxRadius; // map to keys keys.left = joyVal.x 0.25; }); joystick.addEventListener('pointerup', e=>{ joyActive=false; knob.style.transform = 'translate(0,0)'; joyVal={x:0,y:0}; keys.left=false; keys.right=false; }); joystick.addEventListener('pointercancel', ()=>{joyActive=false; knob.style.transform = 'translate(0,0)'; keys.left=false; keys.right=false;}); // أزرار اللمس jumpBtn.addEventListener('pointerdown', e=>{e.preventDefault(); keys.jump = true}); jumpBtn.addEventListener('pointerup', e=>{e.preventDefault(); keys.jump = false}); runBtn.addEventListener('pointerdown', e=>{e.preventDefault(); keys.run = true}); runBtn.addEventListener('pointerup', e=>{e.preventDefault(); keys.run = false}); // لوحة مفاتيح addEventListener('keydown', e=>{ if(e.key === 'ArrowLeft' || e.key.toLowerCase()==='a'){ keys.left = true } if(e.key === 'ArrowRight' || e.key.toLowerCase()==='d'){ keys.right = true } if(e.key === ' ' || e.key === 'Spacebar'){ keys.jump = true } if(e.key.toLowerCase() === 'shift'){ keys.run = true } }); addEventListener('keyup', e=>{ if(e.key === 'ArrowLeft' || e.key.toLowerCase()==='a'){ keys.left = false } if(e.key === 'ArrowRight' || e.key.toLowerCase()==='d'){ keys.right = false } if(e.key === ' ' || e.key === 'Spacebar'){ keys.jump = false } if(e.key.toLowerCase() === 'shift'){ keys.run = false } }); function rectsCollide(a,b){ return a.x b.x && a.y b.y; } function update(dt){ const moveSpeed = keys.run ? 380 : 220; // horizontal control if(keys.left && !keys.right){ player.vx = -moveSpeed; player.facing=-1 } else if(keys.right && !keys.left){ player.vx = moveSpeed; player.facing=1 } else { player.vx = player.vx * 0.9; if(Math.abs(player.vx) innerHeight + 200){ lives--; resetPlayer(); document.getElementById('lives').textContent = 'حياة: ' + lives; if(lives0? pw-16:8), py + 12, 6, 6); // hat ctx.fillStyle = '#1d3557'; ctx.fillRect(px, py - 6, pw, 8); // draw goal flag at far right ctx.fillStyle = '#ef476f'; ctx.fillRect(2300, innerHeight-300, 8, 200); ctx.fillStyle = '#fdfcdc'; ctx.fillRect(2310, innerHeight-300 + 10, 60, 36); ctx.restore(); } function roundRect(ctx,x,y,w,h,r){ ctx.beginPath(); ctx.moveTo(x+r,y); ctx.arcTo(x+w,y,x+w,y+h,r); ctx.arcTo(x+w,y+h,x,y+h,r); ctx.arcTo(x,y+h,x,y,r); ctx.arcTo(x,y,x+w,y,r); ctx.closePath(); ctx.fill(); } function loop(now){ const dt = Math.min(0.033, (now - last)/1000); last = now; update(dt); draw(); requestAnimationFrame(loop); } // resize handling addEventListener('resize', ()=>{ // adjust canvas for DPR canvas.width = innerWidth * devicePixelRatio; canvas.height = innerHeight * devicePixelRatio; canvas.style.width = innerWidth + 'px'; canvas.style.height = innerHeight + 'px'; ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0); }); // init resetPlayer(); document.getElementById('score').textContent = 'النتيجة: ' + score; document.getElementById('lives').textContent = 'حياة: ' + lives; requestAnimationFrame(loop); 
